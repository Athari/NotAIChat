<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Scale Chat</title><style>:root{--button-width:38px;--gap:8px;color-scheme:dark;font:15px/1.2 Segoe UI, sans-serif}:root .s-a.s-a,:root .s-a.s-a::before,:root .s-a.s-a::after{box-sizing:border-box}.app.s-a.s-a{border:solid 1px #666;background:#111;padding:8px;border-radius:8px}details.s-a.s-a{border:solid 1px #666;background:#222;padding:8px;margin:0 0 8px 0;border-radius:8px}details.s-a>details.s-a{margin:8px 0 0 0}details.s-a>summary.s-a{cursor:pointer}details[open].s-a>summary.s-a{padding:0 0 8px 0;font-weight:700}h3.s-a.s-a{font:inherit;font-weight:500;margin:0}.messages.s-a.s-a,.endpoints.s-a.s-a,.options.s-a.s-a{display:flex;flex-flow:column;gap:8px}.options.s-a.s-a{flex-flow:row wrap;gap:8px 24px}.message.s-a.s-a,.endpoint.s-a.s-a,.option.s-a.s-a,.buttons.s-a.s-a{display:flex;flex-flow:row;align-items:flex-start;gap:8px}.option.s-a.s-a{align-items:center;width:400px}.option.s-a label.s-a{flex:1}.new-message.s-a.s-a{margin:12px 0 0 0}.new-message.s-a .buttons.s-a{flex:0 0 calc((var(--button-width) + var(--gap) + 0px) * 3 - var(--gap));flex-flow:row wrap}textarea.s-a.s-a,input[type=text].s-a.s-a,select.s-a.s-a{flex:1;border-style:solid;border-width:1px;border-radius:4px;padding:2px 6px;font:inherit;resize:none;overflow:hidden}input[type=radio].s-a.s-a{align-self:stretch}textarea.s-a.s-a:hover{overflow-y:overlay}.status.s-a.s-a{opacity:0.6}button.s-a.s-a{height:26px;width:var(--button-width)}p.s-a.s-a,ul.s-a.s-a{margin:4px 0}@media(max-width: 740px){:root.d-compact .buttons.s-a.s-a{flex-flow:column}:root.d-compact .endpoint.s-a.s-a{flex-flow:row wrap}:root.d-compact .endpoint.s-a input[type=text].s-a{flex:200px 1}}@media(max-width: 480px){:root.d-compact .option.s-a.s-a{width:100%}}:root:is(.d-mobile, .d-access){--button-width:48px;line-height:1.4}:root:is(.d-mobile, .d-access) button.s-a.s-a{height:32px}:root:is(.d-mobile, .d-access) textarea.s-a.s-a,:root:is(.d-mobile, .d-access) input[type=text].s-a.s-a,:root:is(.d-mobile, .d-access) select.s-a.s-a{padding:4px 8px}:root:is(.d-mobile, .d-access) p.s-a.s-a,:root:is(.d-mobile, .d-access) ul.s-a.s-a{margin:10px 0}:root:is(.d-mobile, .d-access) li.s-a.s-a{margin:6px 0}@media(max-width: 840px){:root:is(.d-mobile, .d-access) .buttons.s-a.s-a{flex-flow:column}:root:is(.d-mobile, .d-access) .endpoint.s-a.s-a{flex-flow:row wrap}:root:is(.d-mobile, .d-access) .endpoint.s-a input[type=text].s-a{flex:260px 1}:root:is(.d-mobile, .d-access) .new-message.s-a .buttons.s-a{flex:0 0 var(--button-width)}}@media(max-width: 500px){:root:is(.d-mobile, .d-access) .option.s-a.s-a{width:100%}}:root.d-access{--button-width:52px;font-size:17px;line-height:1.6}:root.d-access button.s-a.s-a{height:38px}</style></head><body><div id="root"></div><script>(()=>{"use strict";var e={366:(e,t)=>{var n="copy",s=[],o="f0c5",a="M224 0c-35.3 0-64 28.7-64 64V288c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224zM64 160c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384H304v64c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V224c0-8.8 7.2-16 16-16h64V160H64z";t.DF={prefix:"far",iconName:n,icon:[512,512,s,o,a]},t.kZ=t.DF},674:(e,t)=>{var n="rocket-launch",s=[128640],o="e027",a="M197.9 253.9c12.9 6.4 24.7 14.8 35 25.2s18.8 22.2 25.2 35c105.8-30 156.7-79.5 181.5-126c25-46.8 27.3-97.6 22-137.7c-40.1-5.3-90.9-3-137.7 22c-46.5 24.8-96 75.8-126 181.5zM384 312.1v82.2c0 25.4-13.4 49-35.3 61.9l-88.5 52.5c-7.4 4.4-16.6 4.5-24.1 .2s-12.1-12.2-12.1-20.9l0-114.7c0-22.6-9-44.3-25-60.3s-37.7-25-60.3-25H24c-8.6 0-16.6-4.6-20.9-12.1s-4.2-16.7 .2-24.1l52.5-88.5c13-21.9 36.5-35.3 61.9-35.3h82.2C281.7-3.8 408.8-8.5 483.9 5.3c11.6 2.1 20.7 11.2 22.8 22.8c13.8 75.1 9.1 202.2-122.7 284zM28.3 511.9c-16 .4-28.6-12.2-28.2-28.2C1 446 7.7 379.7 42 345.5c34.4-34.4 90.1-34.4 124.5 0s34.4 90.1 0 124.5C132.3 504.3 66 511 28.3 511.9zm50.2-64.5c12.8-.7 31.2-3.7 41.3-13.7c11.4-11.4 11.4-30 0-41.4s-30-11.4-41.4 0c-10.1 10.1-13 28.5-13.7 41.3c-.5 8 5.9 14.3 13.9 13.9zM328 144a40 40 0 1 1 80 0 40 40 0 1 1 -80 0z";t.DF={prefix:"far",iconName:n,icon:[512,512,s,o,a]},t.XE=t.DF},929:(e,t)=>{var n="turtle",s=[128034],o="f726",a="M336 240V208c0-70.7-57.3-128-128-128S80 137.3 80 208v32H336zm48-32v41.2c0 21.4-17.4 38.8-38.8 38.8H70.8C49.4 288 32 270.6 32 249.2V208c0-97.2 78.8-176 176-176s176 78.8 176 176zm96 80c-8.3 0-16.3-1.6-23.6-4.5C440.3 328 400.4 361 352 367v1 72c0 22.1-17.9 40-40 40H264c-22.1 0-40-17.9-40-40V368H192v72c0 22.1-17.9 40-40 40H104c-22.1 0-40-17.9-40-40V368H24c-13.3 0-24-10.7-24-24s10.7-24 24-24H64h48 32 48 32 48 32 32c44.2 0 80-35.8 80-80V224 192 176c0-35.3 28.7-64 64-64c53 0 96 43 96 96v16c0 35.3-28.7 64-64 64H480zM272 368v64h32V368H272zm-160 0v64h32V368H112zM496 224a16 16 0 1 0 0-32 16 16 0 1 0 0 32z";t.DF={prefix:"far",iconName:n,icon:[576,512,s,o,a]},t.ct=t.DF},743:(e,t)=>{var n="arrow-down",s=[8595],o="f063",a="M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z";t.DF={prefix:"fas",iconName:n,icon:[384,512,s,o,a]},t.r5=t.DF},608:(e,t)=>{var n="arrow-up",s=[8593],o="f062",a="M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2V448c0 17.7 14.3 32 32 32s32-14.3 32-32V141.2L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z";t.DF={prefix:"fas",iconName:n,icon:[384,512,s,o,a]},t.FP=t.DF},790:(e,t)=>{var n=[128683,"cancel"],s="f05e",o="M367.2 412.5L99.5 144.8C77.1 176.1 64 214.5 64 256c0 106 86 192 192 192c41.5 0 79.9-13.1 111.2-35.5zm45.3-45.3C434.9 335.9 448 297.5 448 256c0-106-86-192-192-192c-41.5 0-79.9 13.1-111.2 35.5L412.5 367.2zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z";t.DF={prefix:"fas",iconName:"ban",icon:[512,512,n,s,o]},t.gP=t.DF},531:(e,t)=>{var n="paper-plane",s=[61913],o="f1d8",a="M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480V396.4c0-4 1.5-7.8 4.2-10.7L331.8 202.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8 17.7 316.6C7.1 311.3 .3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z";t.DF={prefix:"fas",iconName:n,icon:[512,512,s,o,a]},t.XC=t.DF},577:(e,t)=>{var n="plus-large",s=[],o="e59e",a="M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 192H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H224V480c0 17.7 14.3 32 32 32s32-14.3 32-32V288l192 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-192 0 0-192z";t.DF={prefix:"fas",iconName:n,icon:[512,512,s,o,a]},t.RL=t.DF},285:(e,t)=>{var n="xmark-large",s=[],o="e59b",a="M393.4 41.4c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3L269.3 256 438.6 425.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L224 301.3 54.6 470.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L178.7 256 9.4 86.6C-3.1 74.1-3.1 53.9 9.4 41.4s32.8-12.5 45.3 0L224 210.7 393.4 41.4z";t.DF={prefix:"fas",iconName:n,icon:[448,512,s,o,a]},t.FG=t.DF}},t={};function n(s){var o=t[s];if(void 0!==o)return o.exports;var a=t[s]={exports:{}};return e[s](a,a.exports,n),a.exports}(()=>{function e(){}function t(e,t){for(const n in t)e[n]=t[n];return e}function s(e){return e()}function o(){return Object.create(null)}function a(e){e.forEach(s)}function l(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function c(e){return 0===Object.keys(e).length}function r(t){return t&&l(t.destroy)?t.destroy:e}new Set;let u=!1;function d(e,t){e.appendChild(t)}function p(e,t,n){e.insertBefore(t,n||null)}function f(e){e.parentNode&&e.parentNode.removeChild(e)}function m(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function h(e){return document.createElement(e)}function g(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function y(e){return document.createTextNode(e)}function $(){return y(" ")}function b(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function v(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function x(e,t){e.value=null==t?"":t}function w(e,t,n){for(let n=0;n<e.options.length;n+=1){const s=e.options[n];if(s.__value===t)return void(s.selected=!0)}n&&void 0===t||(e.selectedIndex=-1)}function C(e){const t=e.querySelector(":checked");return t&&t.__value}function k(e,t,n){e.classList[n?"add":"remove"](t)}new Map;let _;function S(e){_=e}function M(){if(!_)throw new Error("Function called outside component initialization");return _}const O=[],F=[];let I=[];const P=[],E=Promise.resolve();let D=!1;function L(){D||(D=!0,E.then(H))}function z(e){I.push(e)}const T=new Set;let A=0;function H(){if(0!==A)return;const e=_;do{try{for(;A<O.length;){const e=O[A];A++,S(e),N(e.$$)}}catch(e){throw O.length=0,A=0,e}for(S(null),O.length=0,A=0;F.length;)F.pop()();for(let e=0;e<I.length;e+=1){const t=I[e];T.has(t)||(T.add(t),t())}I.length=0}while(O.length);for(;P.length;)P.pop()();D=!1,T.clear(),S(e)}function N(e){if(null!==e.fragment){e.update(),a(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(z)}}const R=new Set;let j;function V(){j={r:0,c:[],p:j}}function q(){j.r||a(j.c),j=j.p}function X(e,t){e&&e.i&&(R.delete(e),e.i(t))}function B(e,t,n,s){if(e&&e.o){if(R.has(e))return;R.add(e),j.c.push((()=>{R.delete(e),s&&(n&&e.d(1),s())})),e.o(t)}else s&&s()}const G="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Y(e,t){const n={},s={},o={$$scope:1};let a=e.length;for(;a--;){const l=e[a],i=t[a];if(i){for(const e in l)e in i||(s[e]=1);for(const e in i)o[e]||(n[e]=i[e],o[e]=1);e[a]=i}else for(const e in l)o[e]=1}for(const e in s)e in n||(n[e]=void 0);return n}function U(e){return"object"==typeof e&&null!==e?e:{}}new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);let W;function J(e){e&&e.c()}function K(e,t,n,o){const{fragment:i,after_update:c}=e.$$;i&&i.m(t,n),o||z((()=>{const t=e.$$.on_mount.map(s).filter(l);e.$$.on_destroy?e.$$.on_destroy.push(...t):a(t),e.$$.on_mount=[]})),c.forEach(z)}function Z(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];I.forEach((s=>-1===e.indexOf(s)?t.push(s):n.push(s))),n.forEach((e=>e())),I=t}(n.after_update),a(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Q(t,n,s,l,i,c,r,d=[-1]){const p=_;S(t);const m=t.$$={fragment:null,ctx:[],props:c,update:e,not_equal:i,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(p?p.$$.context:[])),callbacks:o(),dirty:d,skip_bound:!1,root:n.target||p.$$.root};r&&r(m.root);let h=!1;if(m.ctx=s?s(t,n.props||{},((e,n,...s)=>{const o=s.length?s[0]:n;return m.ctx&&i(m.ctx[e],m.ctx[e]=o)&&(!m.skip_bound&&m.bound[e]&&m.bound[e](o),h&&function(e,t){-1===e.$$.dirty[0]&&(O.push(e),L(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n})):[],m.update(),h=!0,a(m.before_update),m.fragment=!!l&&l(m.ctx),n.target){if(n.hydrate){u=!0;const e=(g=n.target,Array.from(g.childNodes));m.fragment&&m.fragment.l(e),e.forEach(f)}else m.fragment&&m.fragment.c();n.intro&&X(t.$$.fragment),K(t,n.target,n.anchor,n.customElement),u=!1,H()}var g;S(p)}"function"==typeof HTMLElement&&(W=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(s).filter(l);for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(e,t,n){this[e]=n}disconnectedCallback(){a(this.$$.on_disconnect)}$destroy(){Z(this,1),this.$destroy=e}$on(t,n){if(!l(n))return e;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const e=s.indexOf(n);-1!==e&&s.splice(e,1)}}$set(e){this.$$set&&!c(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});class ee{$destroy(){Z(this,1),this.$destroy=e}$on(t,n){if(!l(n))return e;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const e=s.indexOf(n);-1!==e&&s.splice(e,1)}}$set(e){this.$$set&&!c(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const te=parseFloat;function ne(e,t=";"){let n;if(Array.isArray(e))n=e.filter((e=>e));else{n=[];for(const t in e)e[t]&&n.push(`${t}:${e[t]}`)}return n.join(t)}function se(e){let t,n,s,o,a,l,i,c;function r(e,t){return"string"==typeof e[10][4]?ae:oe}let u=r(e),m=u(e);return{c(){t=g("svg"),n=g("g"),s=g("g"),m.c(),v(s,"transform",e[12]),v(n,"transform",o="translate("+e[10][0]/2+" "+e[10][1]/2+")"),v(n,"transform-origin",a=e[10][0]/4+" 0"),v(t,"id",l=e[1]||void 0),v(t,"class",i="svelte-fa "+e[0]+" s-f"),v(t,"style",e[11]),v(t,"viewBox",c="0 0 "+e[10][0]+" "+e[10][1]),v(t,"aria-hidden","true"),v(t,"role","img"),v(t,"xmlns","http://www.w3.org/2000/svg"),k(t,"pulse",e[4]),k(t,"spin",e[3])},m(e,o){p(e,t,o),d(t,n),d(n,s),m.m(s,null)},p(e,d){u===(u=r(e))&&m?m.p(e,d):(m.d(1),m=u(e),m&&(m.c(),m.m(s,null))),4096&d&&v(s,"transform",e[12]),1024&d&&o!==(o="translate("+e[10][0]/2+" "+e[10][1]/2+")")&&v(n,"transform",o),1024&d&&a!==(a=e[10][0]/4+" 0")&&v(n,"transform-origin",a),2&d&&l!==(l=e[1]||void 0)&&v(t,"id",l),1&d&&i!==(i="svelte-fa "+e[0]+" s-f")&&v(t,"class",i),2048&d&&v(t,"style",e[11]),1024&d&&c!==(c="0 0 "+e[10][0]+" "+e[10][1])&&v(t,"viewBox",c),17&d&&k(t,"pulse",e[4]),9&d&&k(t,"spin",e[3])},d(e){e&&f(t),m.d()}}}function oe(e){let t,n,s,o,a,l,i,c,r,u;return{c(){t=g("path"),l=g("path"),v(t,"d",n=e[10][4][0]),v(t,"fill",s=e[6]||e[2]||"currentColor"),v(t,"fill-opacity",o=0!=e[9]?e[7]:e[8]),v(t,"transform",a="translate("+e[10][0]/-2+" "+e[10][1]/-2+")"),v(l,"d",i=e[10][4][1]),v(l,"fill",c=e[5]||e[2]||"currentColor"),v(l,"fill-opacity",r=0!=e[9]?e[8]:e[7]),v(l,"transform",u="translate("+e[10][0]/-2+" "+e[10][1]/-2+")")},m(e,n){p(e,t,n),p(e,l,n)},p(e,d){1024&d&&n!==(n=e[10][4][0])&&v(t,"d",n),68&d&&s!==(s=e[6]||e[2]||"currentColor")&&v(t,"fill",s),896&d&&o!==(o=0!=e[9]?e[7]:e[8])&&v(t,"fill-opacity",o),1024&d&&a!==(a="translate("+e[10][0]/-2+" "+e[10][1]/-2+")")&&v(t,"transform",a),1024&d&&i!==(i=e[10][4][1])&&v(l,"d",i),36&d&&c!==(c=e[5]||e[2]||"currentColor")&&v(l,"fill",c),896&d&&r!==(r=0!=e[9]?e[8]:e[7])&&v(l,"fill-opacity",r),1024&d&&u!==(u="translate("+e[10][0]/-2+" "+e[10][1]/-2+")")&&v(l,"transform",u)},d(e){e&&f(t),e&&f(l)}}}function ae(e){let t,n,s,o;return{c(){t=g("path"),v(t,"d",n=e[10][4]),v(t,"fill",s=e[2]||e[5]||"currentColor"),v(t,"transform",o="translate("+e[10][0]/-2+" "+e[10][1]/-2+")")},m(e,n){p(e,t,n)},p(e,a){1024&a&&n!==(n=e[10][4])&&v(t,"d",n),36&a&&s!==(s=e[2]||e[5]||"currentColor")&&v(t,"fill",s),1024&a&&o!==(o="translate("+e[10][0]/-2+" "+e[10][1]/-2+")")&&v(t,"transform",o)},d(e){e&&f(t)}}}function le(t){let n,s=t[10][4]&&se(t);return{c(){s&&s.c(),n=y("")},m(e,t){s&&s.m(e,t),p(e,n,t)},p(e,[t]){e[10][4]?s?s.p(e,t):(s=se(e),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},i:e,o:e,d(e){s&&s.d(e),e&&f(n)}}}function ie(e,t,n){let s,o,a,{class:l=""}=t,{id:i=""}=t,{style:c=""}=t,{icon:r}=t,{size:u=""}=t,{color:d=""}=t,{fw:p=!1}=t,{pull:f=""}=t,{scale:m=1}=t,{translateX:h=0}=t,{translateY:g=0}=t,{rotate:y=""}=t,{flip:$=!1}=t,{spin:b=!1}=t,{pulse:v=!1}=t,{primaryColor:x=""}=t,{secondaryColor:w=""}=t,{primaryOpacity:C=1}=t,{secondaryOpacity:k=.4}=t,{swapOpacity:_=!1}=t;return e.$$set=e=>{"class"in e&&n(0,l=e.class),"id"in e&&n(1,i=e.id),"style"in e&&n(13,c=e.style),"icon"in e&&n(14,r=e.icon),"size"in e&&n(15,u=e.size),"color"in e&&n(2,d=e.color),"fw"in e&&n(16,p=e.fw),"pull"in e&&n(17,f=e.pull),"scale"in e&&n(18,m=e.scale),"translateX"in e&&n(19,h=e.translateX),"translateY"in e&&n(20,g=e.translateY),"rotate"in e&&n(21,y=e.rotate),"flip"in e&&n(22,$=e.flip),"spin"in e&&n(3,b=e.spin),"pulse"in e&&n(4,v=e.pulse),"primaryColor"in e&&n(5,x=e.primaryColor),"secondaryColor"in e&&n(6,w=e.secondaryColor),"primaryOpacity"in e&&n(7,C=e.primaryOpacity),"secondaryOpacity"in e&&n(8,k=e.secondaryOpacity),"swapOpacity"in e&&n(9,_=e.swapOpacity)},e.$$.update=()=>{16384&e.$$.dirty&&n(10,s=r&&r.icon||[0,0,"",[],""]),237568&e.$$.dirty&&n(11,o=function(e,t,n,s){let o,a,l,i,c,r="-.125em";return s&&(c="center",a="1.25em"),n&&(o=n),t&&("lg"==t?(i="1.33333em",l=".75em",r="-.225em"):i="xs"==t?".75em":"sm"==t?".875em":t.replace("x","em")),ne([ne({float:o,width:a,height:"1em","line-height":l,"font-size":i,"text-align":c,"vertical-align":r,"transform-origin":"center",overflow:"visible"}),e])}(c,u,f,p)),8126464&e.$$.dirty&&n(12,a=function(e,t,n,s,o,a=1,l="",i=""){let c=1,r=1;return o&&("horizontal"==o?c=-1:"vertical"==o?r=-1:c=r=-1),ne([`translate(${te(t)*a}${l},${te(n)*a}${l})`,`scale(${c*te(e)},${r*te(e)})`,s&&`rotate(${s}${i})`]," ")}(m,h,g,y,$,512))},[l,i,d,b,v,x,w,C,k,_,s,o,a,c,r,u,p,f,m,h,g,y,$]}const ce=class extends ee{constructor(e){super(),Q(this,e,ie,le,i,{class:0,id:1,style:13,icon:14,size:15,color:2,fw:16,pull:17,scale:18,translateX:19,translateY:20,rotate:21,flip:22,spin:3,pulse:4,primaryColor:5,secondaryColor:6,primaryOpacity:7,secondaryOpacity:8,swapOpacity:9})}};var re=n(577),ue=n(285),de=n(608),pe=n(743),fe=n(531),me=n(790),he=n(674),ge=n(929),ye=n(366);const{window:$e}=G;function be(e,t,n){const s=e.slice();return s[46]=t[n],s[47]=t,s[48]=n,s}function ve(e,t,n){const s=e.slice();return s[49]=t[n],s[50]=t,s[51]=n,s}function xe(e){let n,s,o,l,i,c,r,u,m,g,y,w,C,k,_,S;function M(){e[21].call(i,e[50],e[51])}function O(){e[22].call(r,e[50],e[51])}function F(){e[23].call(m,e[50],e[51])}const I=[{icon:ue.FG},e[6]];let P={};for(let e=0;e<I.length;e+=1)P=t(P,I[e]);function E(){return e[24](e[51])}return w=new ce({props:P}),k=function(e){let t;return{p(...n){t=n,t.forEach((t=>e.push(t)))},r(){t.forEach((t=>e.splice(e.indexOf(t),1)))}}}(e[20][0]),{c(){n=h("div"),s=h("input"),l=$(),i=h("input"),c=$(),r=h("input"),u=$(),m=h("input"),g=$(),y=h("button"),J(w.$$.fragment),v(s,"type","radio"),v(s,"name","selectedEndpoint"),s.__value=o=e[51],s.value=s.__value,v(s,"title","Set endpoint as current"),v(s,"class","s-a"),v(i,"type","text"),v(i,"placeholder","Display name"),v(i,"class","s-a"),v(r,"type","text"),v(r,"placeholder","API Key"),v(r,"class","s-a"),v(m,"type","text"),v(m,"placeholder","Endpoint URL"),v(m,"class","s-a"),v(y,"title","Delete endpoint"),v(y,"class","s-a"),v(n,"class","endpoint s-a"),k.p(s)},m(t,o){p(t,n,o),d(n,s),s.checked=s.__value===e[0].selectedEndpointIndex,d(n,l),d(n,i),x(i,e[49].name),d(n,c),d(n,r),x(r,e[49].key),d(n,u),d(n,m),x(m,e[49].url),d(n,g),d(n,y),K(w,y,null),C=!0,_||(S=[b(s,"change",e[19]),b(i,"input",M),b(r,"input",O),b(m,"input",F),b(y,"click",E)],_=!0)},p(t,n){e=t,3&n[0]&&(s.checked=s.__value===e[0].selectedEndpointIndex),2&n[0]&&i.value!==e[49].name&&x(i,e[49].name),2&n[0]&&r.value!==e[49].key&&x(r,e[49].key),2&n[0]&&m.value!==e[49].url&&x(m,e[49].url);const o=64&n[0]?Y(I,[0&n&&{icon:ue.FG},64&n[0]&&U(e[6])]):{};w.$set(o)},i(e){C||(X(w.$$.fragment,e),C=!0)},o(e){B(w.$$.fragment,e),C=!1},d(e){e&&f(n),Z(w),k.r(),_=!1,a(S)}}}function we(e){let n,s,o,l,i,c,u,m,g,y,w,C,k,_,S,M,O,F,I,P;function E(){e[28].call(s,e[47],e[48])}const D=[{icon:de.FP},e[6]];let L={};for(let e=0;e<D.length;e+=1)L=t(L,D[e]);function z(){return e[29](e[48])}m=new ce({props:L});const T=[{icon:pe.r5},e[6]];let A={};for(let e=0;e<T.length;e+=1)A=t(A,T[e]);function H(){return e[30](e[48])}C=new ce({props:A});const N=[{icon:ue.FG},e[6]];let R={};for(let e=0;e<N.length;e+=1)R=t(R,N[e]);function j(){return e[31](e[48])}return M=new ce({props:R}),{c(){n=h("div"),s=h("textarea"),i=$(),c=h("div"),u=h("button"),J(m.$$.fragment),y=$(),w=h("button"),J(C.$$.fragment),_=$(),S=h("button"),J(M.$$.fragment),O=$(),v(s,"placeholder",o="Message #"+e[46].id+" text"),v(s,"autocomplete","false"),v(s,"class","s-a"),u.disabled=g=e[48]<=0,v(u,"title","Move message up"),v(u,"class","s-a"),w.disabled=k=e[48]>=e[2].length-1,v(w,"title","Move message down"),v(w,"class","s-a"),v(S,"title","Delete message"),v(S,"class","s-a"),v(c,"class","buttons s-a"),v(n,"class","message s-a")},m(t,o){p(t,n,o),d(n,s),x(s,e[46].text),d(n,i),d(n,c),d(c,u),K(m,u,null),d(c,y),d(c,w),K(C,w,null),d(c,_),d(c,S),K(M,S,null),d(n,O),F=!0,I||(P=[b(s,"input",E),r(l=Fe.call(null,s)),b(u,"click",z),b(w,"click",H),b(S,"click",j)],I=!0)},p(t,n){e=t,(!F||4&n[0]&&o!==(o="Message #"+e[46].id+" text"))&&v(s,"placeholder",o),4&n[0]&&x(s,e[46].text);const a=64&n[0]?Y(D,[0&n&&{icon:de.FP},64&n[0]&&U(e[6])]):{};m.$set(a);const l=64&n[0]?Y(T,[0&n&&{icon:pe.r5},64&n[0]&&U(e[6])]):{};C.$set(l),(!F||4&n[0]&&k!==(k=e[48]>=e[2].length-1))&&(w.disabled=k);const i=64&n[0]?Y(N,[0&n&&{icon:ue.FG},64&n[0]&&U(e[6])]):{};M.$set(i)},i(e){F||(X(m.$$.fragment,e),X(C.$$.fragment,e),X(M.$$.fragment,e),F=!0)},o(e){B(m.$$.fragment,e),B(C.$$.fragment,e),B(M.$$.fragment,e),F=!1},d(e){e&&f(n),Z(m),Z(C),Z(M),I=!1,a(P)}}}function Ce(e){let n,s,o,l,i,c,u,g,C,k,_,S,M,O,F,I,P,E,D,L,T,A,H,N,R,j,G,W,Q,ee,te,ne,se,oe,ae,le,ie,ue,de,pe,Ce,ke,_e,Se,Me,Ie,Pe,Ee,De,Le,ze,Te,Ae,He,Ne,Re,je,Ve,qe,Xe,Be,Ge,Ye,Ue,We,Je,Ke,Ze,Qe,et,tt,nt,st,ot,at,lt;const it=[{icon:re.RL},e[6]];let ct={};for(let e=0;e<it.length;e+=1)ct=t(ct,it[e]);C=new ce({props:ct});let rt=e[1],ut=[];for(let t=0;t<rt.length;t+=1)ut[t]=xe(ve(e,rt,t));const dt=e=>B(ut[e],1,1,(()=>{ut[e]=null}));let pt=e[2],ft=[];for(let t=0;t<pt.length;t+=1)ft[t]=we(be(e,pt,t));const mt=e=>B(ft[e],1,1,(()=>{ft[e]=null})),ht=[{icon:fe.XC},e[6]];let gt={};for(let e=0;e<ht.length;e+=1)gt=t(gt,ht[e]);Te=new ce({props:gt});const yt=[{icon:he.XE},e[6]];let $t={};for(let e=0;e<yt.length;e+=1)$t=t($t,yt[e]);Ne=new ce({props:$t});const bt=[{icon:ge.ct},e[6]];let vt={};for(let e=0;e<bt.length;e+=1)vt=t(vt,bt[e]);qe=new ce({props:vt});const xt=[{icon:me.gP},e[6]];let wt={};for(let e=0;e<xt.length;e+=1)wt=t(wt,xt[e]);Ye=new ce({props:wt});const Ct=[{icon:re.RL},e[6]];let kt={};for(let e=0;e<Ct.length;e+=1)kt=t(kt,Ct[e]);Ke=new ce({props:kt});const _t=[{icon:ye.kZ},e[6],{flip:"vertical"}];let St={};for(let e=0;e<_t.length;e+=1)St=t(St,_t[e]);return et=new ce({props:St}),{c(){n=h("div"),s=h("details"),o=h("summary"),o.textContent="Options",l=$(),i=h("div"),c=h("h3"),u=y("Scale Endpoints\r\n "),g=h("button"),J(C.$$.fragment),k=$();for(let e=0;e<ut.length;e+=1)ut[e].c();_=$(),S=h("h3"),S.textContent="Behavior",M=$(),O=h("div"),F=h("div"),I=h("label"),I.textContent="UI Density",P=$(),E=h("select"),D=h("option"),D.textContent="Compact",T=h("option"),T.textContent="Comfortable",H=h("option"),H.textContent="Accessible",R=$(),j=h("div"),G=h("label"),G.textContent="Proxy",W=$(),Q=h("select"),ee=h("option"),ee.textContent="Direct",ne=h("option"),ne.textContent="CORS Demo",oe=h("option"),oe.textContent="Web proxy",le=$(),ie=h("div"),ue=h("label"),ue.textContent="Multi-message count",de=$(),pe=h("input"),Ce=$(),ke=h("details"),ke.innerHTML='<summary class="s-a">Instructions</summary> \n <h3 class="s-a">Scale API keys</h3> \n <p class="s-a">You can use one of public keys or provide your own. Having your own keys gives more flexibility and better privacy.\n </p><h3 class="s-a">Proxy</h3> \n <p class="s-a">The method of bypassing CORS restrictions for the chat script. One is enough.\n </p><ul class="s-a"><li class="s-a"><b class="s-a">Direct</b>:\n <ul class="s-a"><li class="s-a"><b class="s-a">User Script</b> <i class="s-a">(desktop/mobile)</i>:\n Install <a href="https://athari.github.io/ScaleChat/userscripts/bypasscors.user.js" class="s-a">Bypass CORS</a> userscript.\n Install <a href="https://www.tampermonkey.net/" class="s-a">TamperMonkey</a> extension or any other user script manager first,\n in case you don&#39;t an option to install the script when you click the link.\n This method enables bypassing CORS only for specific user script and domain, however running locally is impossible\n and running on another server requires editing the user script.\n </li><li class="s-a"><b class="s-a">Extension</b> <i class="s-a">(desktop)</i>:\n Install <a href="https://microsoftedge.microsoft.com/addons/detail/cors-unblock/hkjklmhkbkdhlgnnfbbcihcajofmjgbh" class="s-a">CORS Unblock</a>\n extension. Click on the extension&#39;s button to enable it.\n This method allows to choose what websites bypass CORS and when. It allows running the script locally or on any server.\n </li><li class="s-a"><b class="s-a">Command Line</b> <i class="s-a">(desktop)</i>:\n Close all Chrome windows, then run it with <b class="s-a"><code class="s-a">chrome --no-web-security</code></b> command line.\n This method applies to all websites until you restart Chrome.</li></ul> \n </li><li class="s-a"><b class="s-a">CORS Demo</b> <i class="s-a">(desktop/mobile)</i>:\n Go to <a href="https://cors-anywhere.herokuapp.com/corsdemo" class="s-a">CORS Anywhere Demo</a> page and click on the button to enable it.\n You may be asked to solve CAPTCHA. Note that CORS Demo can timeout way earlier than actual Scale API.\n This method allows all websites using that specific website to bypass CORS.\n </li><li class="s-a"><b class="s-a">Web Proxy</b> <i class="s-a">(desktop/mobile)</i>:\n Use <a href="https://fishtailprotocol.com/projects/betterGPT4/" class="s-a">Web proxy by Feril</a>. No configuration required. This\n method works exclusively with Scale API.</li></ul> \n <h3 class="s-a">Privacy</h3> \n <p class="s-a">Privacy does not exist.\n </p><ul class="s-a"><li class="s-a">All your prompts and responses are visible to the owner of the Scale API key.\n </li><li class="s-a">All your prompts, responses and keys are visible to the company that owns Scale API.\n </li><li class="s-a">All your prompts, responses and keys are visible to the owner of CORS and web proxies.</li></ul> \n <p class="s-a">Recommendations for maximum privacy:\n </p><ul class="s-a"><li class="s-a">Do not use public Scale API keys.\n <lI class="s-a">Do not use proxies owned by people you don&#39;t trust.\n <li class="s-a">Do not send any information which could be used to identify you.\n </li><li class="s-a">Do register on Scale with fake data, including fake email.\n </li><li class="s-a">Do live in counrties where FBI can&#39;t reach you and put in jail for having bad thoughts.</li></lI></li></ul>',_e=$(),Se=h("div");for(let e=0;e<ft.length;e+=1)ft[e].c();Me=$(),Ie=h("div"),Pe=h("textarea"),De=$(),Le=h("div"),ze=h("button"),J(Te.$$.fragment),Ae=$(),He=h("button"),J(Ne.$$.fragment),je=$(),Ve=h("button"),J(qe.$$.fragment),Be=$(),Ge=h("button"),J(Ye.$$.fragment),We=$(),Je=h("button"),J(Ke.$$.fragment),Ze=$(),Qe=h("button"),J(et.$$.fragment),tt=$(),nt=h("p"),st=y(e[5]),v(o,"class","s-a"),v(g,"title","Add endpoint"),v(g,"class","s-a"),v(c,"class","s-a"),v(S,"class","s-a"),v(I,"for","density"),v(I,"class","s-a"),D.__value=L="compact",D.value=D.__value,v(D,"class","s-a"),T.__value=A="mobile",T.value=T.__value,v(T,"class","s-a"),H.__value=N="access",H.value=H.__value,v(H,"class","s-a"),v(E,"id","density"),v(E,"class","s-a"),void 0===e[0].density&&z((()=>e[25].call(E))),v(F,"class","option s-a"),v(G,"for","selectedProxyIndex"),v(G,"class","s-a"),ee.__value=te=0,ee.value=ee.__value,v(ee,"class","s-a"),ne.__value=se=1,ne.value=ne.__value,v(ne,"class","s-a"),oe.__value=ae=2,oe.value=oe.__value,v(oe,"class","s-a"),v(Q,"id","selectedProxyIndex"),v(Q,"class","s-a"),void 0===e[0].selectedProxyIndex&&z((()=>e[26].call(Q))),v(j,"class","option s-a"),v(ue,"for","multiMessageCount"),v(ue,"class","s-a"),v(pe,"type","text"),v(pe,"id","multiMessageCount"),v(pe,"class","s-a"),v(ie,"class","option s-a"),v(O,"class","options s-a"),v(i,"class","endpoints s-a"),v(ke,"class","s-a"),s.open=!0,v(s,"class","s-a"),v(Se,"class","messages s-a"),Pe.disabled=e[4],v(Pe,"placeholder","New message text"),v(Pe,"autocomplete","false"),v(Pe,"class","s-a"),ze.disabled=e[4],v(ze,"title","Send message"),v(ze,"class","s-a"),He.disabled=e[4],v(He,"title",Re="Send message and receive "+e[0].multiMessageCount+" messages"),v(He,"class","s-a"),Ve.disabled=e[4],v(Ve,"title",Xe="Try sending message "+e[0].multiMessageCount+" times"),v(Ve,"class","s-a"),Ge.disabled=Ue=!e[4],v(Ge,"title","Cancel sending"),v(Ge,"class","s-a"),Je.disabled=e[4],v(Je,"title","Add message without sending"),v(Je,"class","s-a"),v(Qe,"title","Copy messages to clipboard"),v(Qe,"class","s-a"),v(Le,"class","buttons s-a"),v(Ie,"class","message new-message s-a"),v(nt,"class","status s-a"),v(n,"class","app s-a")},m(t,a){p(t,n,a),d(n,s),d(s,o),d(s,l),d(s,i),d(i,c),d(c,u),d(c,g),K(C,g,null),d(i,k);for(let e=0;e<ut.length;e+=1)ut[e]&&ut[e].m(i,null);d(i,_),d(i,S),d(i,M),d(i,O),d(O,F),d(F,I),d(F,P),d(F,E),d(E,D),d(E,T),d(E,H),w(E,e[0].density,!0),d(O,R),d(O,j),d(j,G),d(j,W),d(j,Q),d(Q,ee),d(Q,ne),d(Q,oe),w(Q,e[0].selectedProxyIndex,!0),d(O,le),d(O,ie),d(ie,ue),d(ie,de),d(ie,pe),x(pe,e[0].multiMessageCount),d(s,Ce),d(s,ke),d(n,_e),d(n,Se);for(let e=0;e<ft.length;e+=1)ft[e]&&ft[e].m(Se,null);d(n,Me),d(n,Ie),d(Ie,Pe),x(Pe,e[3]),d(Ie,De),d(Ie,Le),d(Le,ze),K(Te,ze,null),d(Le,Ae),d(Le,He),K(Ne,He,null),d(Le,je),d(Le,Ve),K(qe,Ve,null),d(Le,Be),d(Le,Ge),K(Ye,Ge,null),d(Le,We),d(Le,Je),K(Ke,Je,null),d(Le,Ze),d(Le,Qe),K(et,Qe,null),d(n,tt),d(n,nt),d(nt,st),ot=!0,at||(lt=[b($e,"resize",Oe),b(g,"click",e[15]),b(E,"change",e[25]),b(Q,"change",e[26]),b(pe,"input",e[27]),b(Pe,"input",e[32]),r(Ee=Fe.call(null,Pe)),b(ze,"click",e[33]),b(He,"click",e[34]),b(Ve,"click",e[35]),b(Ge,"click",e[10]),b(Je,"click",e[36]),b(Qe,"click",e[14])],at=!0)},p(e,t){const n=64&t[0]?Y(it,[0&t&&{icon:re.RL},64&t[0]&&U(e[6])]):{};if(C.$set(n),65603&t[0]){let n;for(rt=e[1],n=0;n<rt.length;n+=1){const s=ve(e,rt,n);ut[n]?(ut[n].p(s,t),X(ut[n],1)):(ut[n]=xe(s),ut[n].c(),X(ut[n],1),ut[n].m(i,_))}for(V(),n=rt.length;n<ut.length;n+=1)dt(n);q()}if(1&t[0]&&w(E,e[0].density),1&t[0]&&w(Q,e[0].selectedProxyIndex),1&t[0]&&pe.value!==e[0].multiMessageCount&&x(pe,e[0].multiMessageCount),12356&t[0]){let n;for(pt=e[2],n=0;n<pt.length;n+=1){const s=be(e,pt,n);ft[n]?(ft[n].p(s,t),X(ft[n],1)):(ft[n]=we(s),ft[n].c(),X(ft[n],1),ft[n].m(Se,null))}for(V(),n=pt.length;n<ft.length;n+=1)mt(n);q()}(!ot||16&t[0])&&(Pe.disabled=e[4]),8&t[0]&&x(Pe,e[3]);const s=64&t[0]?Y(ht,[0&t&&{icon:fe.XC},64&t[0]&&U(e[6])]):{};Te.$set(s),(!ot||16&t[0])&&(ze.disabled=e[4]);const o=64&t[0]?Y(yt,[0&t&&{icon:he.XE},64&t[0]&&U(e[6])]):{};Ne.$set(o),(!ot||16&t[0])&&(He.disabled=e[4]),(!ot||1&t[0]&&Re!==(Re="Send message and receive "+e[0].multiMessageCount+" messages"))&&v(He,"title",Re);const a=64&t[0]?Y(bt,[0&t&&{icon:ge.ct},64&t[0]&&U(e[6])]):{};qe.$set(a),(!ot||16&t[0])&&(Ve.disabled=e[4]),(!ot||1&t[0]&&Xe!==(Xe="Try sending message "+e[0].multiMessageCount+" times"))&&v(Ve,"title",Xe);const l=64&t[0]?Y(xt,[0&t&&{icon:me.gP},64&t[0]&&U(e[6])]):{};Ye.$set(l),(!ot||16&t[0]&&Ue!==(Ue=!e[4]))&&(Ge.disabled=Ue);const c=64&t[0]?Y(Ct,[0&t&&{icon:re.RL},64&t[0]&&U(e[6])]):{};Ke.$set(c),(!ot||16&t[0])&&(Je.disabled=e[4]);const r=64&t[0]?Y(_t,[0&t&&{icon:ye.kZ},64&t[0]&&U(e[6]),_t[2]]):{};var u,d;et.$set(r),(!ot||32&t[0])&&(u=st,d=""+(d=e[5]),u.wholeText!==d&&(u.data=d))},i(e){if(!ot){X(C.$$.fragment,e);for(let e=0;e<rt.length;e+=1)X(ut[e]);for(let e=0;e<pt.length;e+=1)X(ft[e]);X(Te.$$.fragment,e),X(Ne.$$.fragment,e),X(qe.$$.fragment,e),X(Ye.$$.fragment,e),X(Ke.$$.fragment,e),X(et.$$.fragment,e),ot=!0}},o(e){B(C.$$.fragment,e),ut=ut.filter(Boolean);for(let e=0;e<ut.length;e+=1)B(ut[e]);ft=ft.filter(Boolean);for(let e=0;e<ft.length;e+=1)B(ft[e]);B(Te.$$.fragment,e),B(Ne.$$.fragment,e),B(qe.$$.fragment,e),B(Ye.$$.fragment,e),B(Ke.$$.fragment,e),B(et.$$.fragment,e),ot=!1},d(e){e&&f(n),Z(C),m(ut,e),m(ft,e),Z(Te),Z(Ne),Z(qe),Z(Ye),Z(Ke),Z(et),at=!1,a(lt)}}}const ke=20;function _e(e){Me({target:e.target.closest(".message").querySelector("textarea")})}function Se({target:e}){const t=window.pageYOffset;e.style.height="0",e.style.overflow="hidden",e.style.height=`${Math.max(e.scrollHeight,ke)+2}px`,e.style.overflow="",window.scrollTo(window.pageXOffset,t)}function Me({target:e}){Se({target:e}),setTimeout((()=>{Se({target:e})}),50)}function Oe(){for(const e of document.querySelectorAll("textarea"))Se({target:e})}function Fe(e){return Me({target:e}),e.addEventListener("input",Se),{destroy:()=>e.removeEventListener("input",Se)}}function Ie(e,t,n){let s={selectedEndpointIndex:0,selectedProxyIndex:0,multiMessageCount:10,density:"compact"},o=[{name:"Pretty name",key:"KEY",url:"https://dashboard.scale.com/spellbook/api/v2/deploy/URL"}],a=[{id:1,text:"Hello GPT-4!"}],l="",i=!1,c="Welcome!",r=null,u=!1,d=null,p={scale:1.3};const f={compact:1.3,mobile:1.7,access:2.1};var m;function h(e,...t){console.log(e,...t),n(5,c=e)}function g(e,t){try{const n=JSON.parse(localStorage.getItem(e));return null!==n&&typeof n==typeof t&&n.constructor.name===t.constructor.name?"Object"===n.constructor.name?Object.assign(t,n):n:t}catch(n){return h(`Warning: Failed to load ${e} from localStorage: ${n.message}`,n),t}}function y(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(t){h(`Warning: Failed to save ${e} to localStorage: ${t.message}`,t)}}function $(){const e=Math.max(...a.map((e=>e.id)));return Number.isFinite(e)?e+1:1}async function b(e){let t=e.url;1==s.selectedProxyIndex?t=`https://cors-anywhere.herokuapp.com/${t}`:2==s.selectedProxyIndex&&(t="https://fishtailprotocol.com/projects/betterGPT4/scale-api.php");let n=a.map((e=>e.text)).join("\n"),o={input:{input:n}};2==s.selectedProxyIndex&&(o={OAIToken:e.key,scaleURL:e.url,chatLog:n});let l={"Content-Type":"application/json",Authorization:"Basic "+e.key};return 2==s.selectedProxyIndex&&delete l.Authorization,await fetch(t,{method:"POST",headers:l,body:JSON.stringify(o),signal:r.signal})}async function v(e,t,s,o){let l;try{l=await s.json(),null!=l.response&&(l=l.response)}catch(e){return h(`Failed to decode message${o}: ${e.message}`,e),t}return null!=l.error?h(`Received error${o}: ${l.error.code}: ${l.error.message}`):null!=l.output?(null==t?(t={id:$(),text:l.output},n(2,a=[...a,t])):(t.text+=` ${l.output}`,n(2,a=[...a]),_e({target:[...document.querySelectorAll(".messages textarea")].slice(-1)[0]})),h(`Received message${o}`,l)):h(`Failed to interpret message${o}`,l),t}async function x(e,t,a){h("Sending message"),S({target:e.target}),n(4,i=!0);const l=o[s.selectedEndpointIndex];if(null==l)throw new Error("No endpoint selected");r=new AbortController;let c=null;for(let e=0;e<t;e++){const n=t>1?` (${e+1}/${t})`:"",s=performance.now();let o;try{o=await b(l)}catch(e){h(`Failed to receive message${n}: ${e.message} (Console and Network tabs in DevTools may contain extra details)`,e);continue}const i=`${(performance.now()-s).toFixed(2)} ms`;if(r.signal.aborted)return;if(o.ok?c=await v(0,c,o,`${n} in ${i}`):h(`Received HTTP error${n} in ${i}: ${o.status} ${o.statusText}`),a&&null!=c)return}n(4,i=!1)}async function w(e){return await x(e,1,!1)}async function k(e){return await x(e,+s.multiMessageCount,!0)}async function _(e){return await x(e,+s.multiMessageCount,!1)}function S(e){""!=l&&(n(2,a=[...a,{id:$(),text:l}]),n(3,l=""),_e(e))}function O(e){n(2,a=a.filter(((t,n)=>n!==e)))}function F(e,t){void 0!==a[e]&&void 0!==a[t]&&(n(2,[a[e],a[t]]=[a[t],a[e]],a),n(2,a=[...a]))}function I(e){n(1,o=o.filter(((t,n)=>n!==e))),void 0===o[s.selectedEndpointIndex]&&n(0,s.selectedEndpointIndex=null,s),n(0,s={...s})}m=()=>{n(17,u=!0),"about:"==location.protocol&&(document.querySelector("head style").innerHTML=""),n(2,a=g("messages",a)),n(1,o=g("endpoints",o)),n(0,s=g("options",s)),n(18,d=document.documentElement)},M().$$.on_mount.push(m);return e.$$.update=()=>{var t;131079&e.$$.dirty[0]&&u&&(y("messages",a),y("endpoints",o),y("options",s)),262145&e.$$.dirty[0]&&null!==d&&(t=s,n(18,d.className=`d-${t.density}`,d)),1&e.$$.dirty[0]&&null!==s.density&&Oe(),1&e.$$.dirty[0]&&n(6,p={scale:f[s.density]})},[s,o,a,l,i,c,p,w,k,_,function(){null!=r&&(n(4,i=!1),r.abort(),h("Receiving message cancelled"))},S,O,F,async function(){try{await navigator.clipboard.writeText(a.map((e=>e.text)).join("\n")),h("Messages copied to clipboard")}catch(e){h(`Failed to copy messages to clipboard: ${e.message}`,e)}},function(){n(1,o=[...o,{name:"Pretty name",key:"KEY",url:"https://dashboard.scale.com/spellbook/api/v2/deploy/URL"}])},I,u,d,function(){s.selectedEndpointIndex=this.__value,n(0,s)},[[]],function(e,t){e[t].name=this.value,n(1,o)},function(e,t){e[t].key=this.value,n(1,o)},function(e,t){e[t].url=this.value,n(1,o)},e=>I(e),function(){s.density=C(this),n(0,s)},function(){s.selectedProxyIndex=C(this),n(0,s)},function(){s.multiMessageCount=this.value,n(0,s)},function(e,t){e[t].text=this.value,n(2,a)},e=>F(e,e-1),e=>F(e,e+1),e=>O(e),function(){l=this.value,n(3,l)},e=>w(e),e=>_(e),e=>k(e),e=>S(e)]}new class extends ee{constructor(e){super(),Q(this,e,Ie,Ce,i,{},null,[-1,-1])}}({target:document.querySelector("#root")})})()})();</script></body></html>